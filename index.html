<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Our Future | 2026 Countdown</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <!-- Expanded font library for shuffling effect -->
    <link href="https://fonts.googleapis.com/css2?family=Syncopate:wght@400;700&family=Cormorant+Garamond:ital,wght@0,300;0,600;1,400&family=Inter:wght@200;400;700;900&family=Playfair+Display:wght@700;900&family=Montserrat:wght@700;900&family=Bebas+Neue&family=Space+Mono:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --romantic-pink: #ff6b95;
            --soft-white: #fffcfd;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #030303;
            font-family: 'Inter', sans-serif;
            color: white;
            -webkit-tap-highlight-color: transparent;
        }

        .syncopate { font-family: 'Syncopate', sans-serif; }
        .serif { font-family: 'Cormorant Garamond', serif; }

        .grain {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 6;
            pointer-events: none;
            opacity: 0.04;
            background: url('https://grainy-gradients.vercel.app/noise.svg');
        }

        .video-background {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: -1;
            pointer-events: none;
            overflow: hidden;
        }

        .video-background iframe {
            width: 100vw;
            height: 56.25vw;
            min-height: 100vh;
            min-width: 177.77vh;
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            opacity: 0.3;
            filter: grayscale(40%) brightness(0.4) contrast(1.1);
        }

        .glass {
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 40px 100px -20px rgba(0, 0, 0, 0.7);
        }

        .timer-unit {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-width: clamp(55px, 14vw, 110px);
            position: relative;
        }

        .glow-text {
            text-shadow: 0 0 15px rgba(255, 107, 149, 0.4);
        }

        #canvas-container {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        #entrance-overlay {
            position: fixed;
            inset: 0;
            background: #000;
            z-index: 100;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: opacity 2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .glow-btn {
            padding: clamp(14px, 4vw, 20px) clamp(30px, 8vw, 50px);
            font-size: clamp(0.7rem, 2vw, 0.9rem);
            letter-spacing: 5px;
            background: transparent;
            border: 1px solid rgba(255,255,255,0.2);
            color: white;
            cursor: pointer;
            transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
            border-radius: 100px;
        }

        .glow-btn:hover {
            border-color: var(--romantic-pink);
            background: rgba(255, 107, 149, 0.05);
            box-shadow: 0 0 30px rgba(255, 107, 149, 0.2);
            transform: scale(1.05);
        }

        .digit {
            font-size: clamp(1.8rem, 8vw, 4.5rem);
            font-weight: 700;
            line-height: 1;
            background: linear-gradient(180deg, #fff 0%, #ffcbd1 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-variant-numeric: tabular-nums;
            transition: font-family 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        /* Glitch Animation for Font Shuffle */
        @keyframes glitch {
            0% { transform: translate(0); text-shadow: -2px 0 var(--romantic-pink), 2px 0 #00fff9; }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(-2px, -2px); text-shadow: 2px 0 var(--romantic-pink), -2px 0 #00fff9; }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(2px, -2px); }
            100% { transform: translate(0); text-shadow: none; }
        }

        .glitch-active {
            animation: glitch 0.3s cubic-bezier(.25, .46, .45, .94) both;
        }

        /* Full Screen Shake Animation */
        @keyframes screen-shake {
            0% { transform: translate(0, 0) rotate(0deg); }
            10% { transform: translate(-5px, -5px) rotate(-1deg); }
            20% { transform: translate(5px, 5px) rotate(1deg); }
            30% { transform: translate(-5px, 5px) rotate(-1deg); }
            40% { transform: translate(5px, -5px) rotate(1deg); }
            50% { transform: translate(-5px, -5px) rotate(-1deg); }
            60% { transform: translate(5px, 5px) rotate(1deg); }
            70% { transform: translate(-5px, 5px) rotate(-1deg); }
            80% { transform: translate(5px, -5px) rotate(1deg); }
            90% { transform: translate(-5px, -5px) rotate(-1deg); }
            100% { transform: translate(0, 0) rotate(0deg); }
        }

        .shake-active {
            animation: screen-shake 0.2s infinite;
        }

        .ms-digit {
            font-size: clamp(1rem, 4vw, 2rem);
            opacity: 0.6;
        }

        .vignette {
            position: fixed;
            inset: 0;
            background: radial-gradient(circle, transparent 20%, rgba(0,0,0,0.9) 100%);
            pointer-events: none;
            z-index: 5;
        }

        @media (max-width: 640px) {
            .timer-container {
                flex-wrap: wrap;
                justify-content: center;
                gap: 1.5rem 0.2rem !important;
                padding: 2rem 1rem !important;
            }
            .separator { display: none; }
            .timer-unit { min-width: 28%; }
            .ms-unit { min-width: 100%; margin-top: 1rem; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 1rem; }
        }

        .floating-ui {
            animation: floating 6s ease-in-out infinite;
        }

        @keyframes floating {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
        }
    </style>
</head>
<body>

    <audio id="bg-audio" loop>
        <source src="Pal Pal (Slowed + Reverb) - Afusic x Talwiinder  AliSoomroMusic  Also Holic - Also Holic.mp3" type="audio/mpeg">
    </audio>

    <div class="grain"></div>

    <div id="entrance-overlay">
        <div class="mb-4 text-[#ff6b95] text-[10px] tracking-[0.8em] uppercase opacity-80 serif italic">Preparation for 2026</div>
        <h1 class="syncopate text-lg md:text-xl mb-12 tracking-[0.5em] text-white/90">AWAITED MOMENTS</h1>
        <button class="glow-btn syncopate uppercase" onclick="startExperience()">Unlock The Magic</button>
    </div>

    <div class="video-background">
        <iframe src="https://www.youtube.com/watch?v=g4bkdOtrKVY&list=RDg4bkdOtrKVY&start_radio=1" frameborder="0" allow="autoplay; encrypted-media"></iframe>
    </div>

    <div class="vignette"></div>
    <div id="canvas-container"></div>

    <main id="main-content" class="relative z-10 w-full h-full flex flex-col items-center justify-center px-4 py-6">
        
        <div class="text-center mb-8 md:mb-12 floating-ui" id="header-section" style="opacity: 0;">
            <p class="serif italic text-lg md:text-2xl text-[#ffcbd1] mb-4 font-light">Lets welcome 2026 </p>
            <div class="h-[1px] w-12 bg-white/20 mx-auto mb-4"></div>
            <h1 class="syncopate text-xl md:text-4xl font-bold tracking-tight text-white glow-text leading-tight">THE NEW <br class="md:hidden">YEAR 2026</h1>
        </div>

        <!-- Timer Grid -->
        <div id="timer" class="glass rounded-[2rem] md:rounded-[4rem] p-6 md:p-12 flex items-center gap-1 md:gap-6 shadow-2xl scale-95 opacity-0 timer-container">
            <div class="timer-unit">
                <span id="days" class="digit">00</span>
                <span class="text-[8px] md:text-[10px] tracking-[0.3em] uppercase mt-3 text-white/30 font-semibold">Days</span>
            </div>
            <div class="separator text-xl md:text-3xl font-thin text-white/10 mb-5">:</div>
            <div class="timer-unit">
                <span id="hours" class="digit">00</span>
                <span class="text-[8px] md:text-[10px] tracking-[0.3em] uppercase mt-3 text-white/30 font-semibold">Hours</span>
            </div>
            <div class="separator text-xl md:text-3xl font-thin text-white/10 mb-5">:</div>
            <div class="timer-unit">
                <span id="minutes" class="digit">00</span>
                <span class="text-[8px] md:text-[10px] tracking-[0.3em] uppercase mt-3 text-white/30 font-semibold">Mins</span>
            </div>
            <div class="separator text-xl md:text-3xl font-thin text-white/10 mb-5">:</div>
            <div class="timer-unit">
                <span id="seconds" class="digit">00</span>
                <span class="text-[8px] md:text-[10px] tracking-[0.3em] uppercase mt-3 text-white/30 font-semibold">Secs</span>
            </div>
            <div class="separator text-xl md:text-3xl font-thin text-white/10 mb-5">:</div>
            <div class="timer-unit ms-unit">
                <span id="ms" class="digit ms-digit !text-[#ff6b95]">000</span>
                <span class="text-[8px] md:text-[10px] tracking-[0.3em] uppercase mt-3 text-[#ff6b95]/50 font-semibold">Ms</span>
            </div>
        </div>

        <div id="footer-note" class="mt-8 md:mt-16 text-center opacity-0 max-w-xs md:max-w-none">
            <p class="syncopate text-[8px] md:text-[10px] tracking-[0.5em] text-white/20 uppercase leading-loose">
                Celebrating Our **** â€¢ Ending the year with you <br>
                <span class="text-[#ff6b95]/40">Dec 31st @ 12:00 PM</span>
            </p>
        </div>
    </main>

    <script>
        // --- Timer Logic ---
        const targetDate = new Date("December 31, 2025 23:45:00").getTime();
        const redirectUrl = "https://ibpofficial.github.io/jatins/";

        // List of fonts for the shuffle effect
        const timerFonts = [
            'Syncopate', 
            'Inter', 
            'Cormorant Garamond', 
            'Playfair Display', 
            'Montserrat', 
            'Bebas Neue', 
            'Space Mono'
        ];

        function shuffleFonts() {
            const randomFont = timerFonts[Math.floor(Math.random() * timerFonts.length)];
            const digits = document.querySelectorAll('.digit');
            
            digits.forEach(el => {
                // Add glitch effect
                el.classList.add('glitch-active');
                
                // Change font
                el.style.fontFamily = `"${randomFont}", sans-serif`;
                
                // Remove glitch effect after animation completes
                setTimeout(() => {
                    el.classList.remove('glitch-active');
                }, 300);
            });
            
            // Random delay between 2-3 seconds as requested
            setTimeout(shuffleFonts, 2000 + Math.random() * 1000);
        }

        function triggerScreenShake() {
            const main = document.getElementById('main-content');
            if (main) {
                main.classList.add('shake-active');
                // Shake for 2.5 seconds
                setTimeout(() => {
                    main.classList.remove('shake-active');
                }, 2500);
            }
        }

        function updateTimer() {
            const now = new Date().getTime();
            const distance = targetDate - now;

            if (distance <= 0) {
                window.location.href = redirectUrl;
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);
            const ms = Math.floor(distance % 1000);

            const els = {
                days: document.getElementById("days"),
                hours: document.getElementById("hours"),
                minutes: document.getElementById("minutes"),
                seconds: document.getElementById("seconds"),
                ms: document.getElementById("ms")
            };

            if (els.days) els.days.innerText = String(days).padStart(2, '0');
            if (els.hours) els.hours.innerText = String(hours).padStart(2, '0');
            if (els.minutes) els.minutes.innerText = String(minutes).padStart(2, '0');
            if (els.seconds) els.seconds.innerText = String(seconds).padStart(2, '0');
            if (els.ms) els.ms.innerText = String(ms).padStart(3, '0');

            requestAnimationFrame(updateTimer);
        }

        // Initialize loops
        updateTimer();
        shuffleFonts();

        // --- Experience Starter ---
        function startExperience() {
            const audio = document.getElementById('bg-audio');
            if (audio) {
                audio.volume = 0.4;
                audio.play().catch(e => console.log("Audio play blocked", e));
            }
            
            gsap.to("#entrance-overlay", { 
                opacity: 0, 
                duration: 2, 
                ease: "power4.inOut",
                onComplete: () => {
                    const overlay = document.getElementById("entrance-overlay");
                    if (overlay) overlay.style.display = "none";
                    
                    gsap.to("#header-section", { opacity: 1, y: -10, duration: 2, ease: "expo.out" });
                    gsap.to("#timer", { scale: 1, opacity: 1, duration: 2, ease: "expo.out", delay: 0.2 });
                    gsap.to("#footer-note", { opacity: 1, duration: 2, delay: 0.6 });

                    // Trigger screen shake after 1 minute (60,000 ms)
                    setTimeout(triggerScreenShake, 60000);
                }
            });
        }

        // --- Three.js Background Elements ---
        let scene, camera, renderer, particles, hearts = [], orbs = [];

        function init3D() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = window.innerWidth < 768 ? 14 : 8;

            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            const container = document.getElementById('canvas-container');
            if (container) container.appendChild(renderer.domElement);

            const starGeo = new THREE.BufferGeometry();
            const starPos = [];
            for (let i = 0; i < 2000; i++) {
                starPos.push((Math.random() - 0.5) * 40, (Math.random() - 0.5) * 40, (Math.random() - 0.5) * 40);
            }
            starGeo.setAttribute('position', new THREE.Float32BufferAttribute(starPos, 3));
            const starMat = new THREE.PointsMaterial({ color: 0xffffff, size: 0.015, transparent: true, opacity: 0.3 });
            particles = new THREE.Points(starGeo, starMat);
            scene.add(particles);

            const orbGeo = new THREE.SphereGeometry(0.1, 16, 16);
            const orbMat = new THREE.MeshBasicMaterial({ color: 0xff6b95, transparent: true, opacity: 0.4 });
            for(let i=0; i<8; i++) {
                const orb = new THREE.Mesh(orbGeo, orbMat);
                orb.position.set((Math.random()-0.5)*20, (Math.random()-0.5)*20, (Math.random()-0.5)*10);
                orb.userData.v = new THREE.Vector3((Math.random()-0.5)*0.01, (Math.random()-0.5)*0.01, 0);
                scene.add(orb);
                orbs.push(orb);
            }

            const heartShape = new THREE.Shape();
            const x = 0, y = 0;
            heartShape.moveTo(x + 5, y + 5);
            heartShape.bezierCurveTo(x + 5, y + 5, x + 4, y, x, y);
            heartShape.bezierCurveTo(x - 6, y, x - 6, y + 7, x - 6, y + 7);
            heartShape.bezierCurveTo(x - 6, y + 11, x - 3, y + 15.4, x + 5, y + 19);
            heartShape.bezierCurveTo(x + 12, y + 15.4, x + 16, y + 11, x + 16, y + 7);
            heartShape.bezierCurveTo(x + 16, y + 7, x + 16, y, x + 10, y);
            heartShape.bezierCurveTo(x + 7, y, x + 5, y + 5, x + 5, y + 5);

            const heartExtrude = { depth: 1, bevelEnabled: true, bevelSize: 0.5, bevelThickness: 0.5 };
            const heartGeo = new THREE.ExtrudeGeometry(heartShape, heartExtrude);
            heartGeo.scale(0.01, -0.01, 0.01);

            const heartMaterial = new THREE.MeshPhongMaterial({ color: 0xff6b95, shininess: 50, transparent: true, opacity: 0.5 });
            const light = new THREE.PointLight(0xffffff, 1.2, 50);
            light.position.set(0, 0, 10);
            scene.add(light);
            scene.add(new THREE.AmbientLight(0x202020));

            for (let i = 0; i < 10; i++) {
                const h = new THREE.Mesh(heartGeo, heartMaterial.clone());
                h.position.set((Math.random() - 0.5) * 25, (Math.random() - 0.5) * 25, (Math.random() - 0.5) * 15);
                h.rotation.z = Math.random() * Math.PI;
                h.userData.speed = 0.005 + Math.random() * 0.015;
                hearts.push(h);
                scene.add(h);
            }

            window.addEventListener('resize', onWindowResize, false);
            animate3D();
        }

        function onWindowResize() {
            if (!camera || !renderer) return;
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.position.z = window.innerWidth < 768 ? 14 : 8;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        function animate3D() {
            requestAnimationFrame(animate3D);
            if (particles) particles.rotation.y += 0.0002;
            
            hearts.forEach(h => {
                h.position.y += h.userData.speed;
                h.rotation.y += 0.008;
                if (h.position.y > 15) h.position.y = -15;
            });

            orbs.forEach(o => {
                o.position.add(o.userData.v);
                if(Math.abs(o.position.x) > 15) o.userData.v.x *= -1;
                if(Math.abs(o.position.y) > 15) o.userData.v.y *= -1;
            });

            if (renderer && scene && camera) {
                renderer.render(scene, camera);
            }
        }

        window.addEventListener('load', init3D);

        const handleInteraction = (x, y) => {
            if (!camera) return;
            const mouseX = (x / window.innerWidth) - 0.5;
            const mouseY = (y / window.innerHeight) - 0.5;
            gsap.to(camera.rotation, {
                y: mouseX * 0.1,
                x: -mouseY * 0.1,
                duration: 3,
                ease: "power1.out"
            });
        };

        document.addEventListener('mousemove', (e) => handleInteraction(e.clientX, e.clientY));
        document.addEventListener('touchmove', (e) => handleInteraction(e.touches[0].clientX, e.touches[0].clientY));

    </script>
</body>
</html>
